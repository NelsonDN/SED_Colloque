function show_agent(str){if(str.length<8){document.getElementById("details_agent").innerHTML="";return;}const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("details_agent").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?id_agent="+str,true);xhttp.send();}function openCity(evt,cityName){var i,x,tablinks;x=document.getElementsByClassName("city2");for(i=0;i<x.length;i++){x[i].style.display="none";}tablinks=document.getElementsByClassName("tablink");for(i=0;i<x.length;i++){tablinks[i].className=tablinks[i].className.replace(" w3-red","");}document.getElementById(cityName).style.display="block";evt.currentTarget.className+=" w3-red";}function show_demandeur(str){if(str.length<8){document.getElementById("details_demandeur").innerHTML="";return;}const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("details_demandeur").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?demandeur="+str,true);xhttp.send();}function open_tab(cityName){var i;var x=document.getElementsByClassName("city");for(i=0;i<x.length;i++){x[i].style.display="none";}document.getElementById(cityName).style.display="block";}function see_historique_transmission(debut,fin){;document.getElementById("historique_transmission_dos").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xxlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("historique_transmission_dos").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?debut_histo_trait="+debut+"& fin_histo_trait="+fin,true);xhttp.send();}function borne_historique_transmission(){var fin_histo_trait=new Date(document.getElementById("fin_histo_trait").value);var debut_histo_trait=new Date(document.getElementById("debut_histo_trait").value);var fin_histo_t=document.getElementById("fin_histo_trait").value;var debut_histo_t=document.getElementById("debut_histo_trait").value;if(debut_histo_trait>fin_histo_trait){document.getElementById("historique_transmission_dos").innerHTML="<b class='w3-text-red'><i class='fa fa-fa-exclamation-circle  w3-xxlarge'></i> la période de traitement est mal définie</b>";}else{see_historique_transmission(debut_histo_t,fin_histo_t);}}function search_bord(code_bord){open_tab('gerer_bordereau');if(code_bord.length==0){document.getElementById("see_bordereau").innerHTML="";return;}else{const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("see_bordereau").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?search_bord="+code_bord,true);xhttp.send();}}function accuser_dossier_bordereau(get){console.log(this)
var code_bord=get.id;document.getElementById("see_bordereau").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("see_bordereau").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?accuser_dos_bord="+code_bord,true);xhttp.send();search_bord(code_bord);}function modal_archive_bord(get){console.log(this)
var code_bord=get.id;document.getElementById('notif_modals_confirm').style.display='block';document.getElementById("notifications_confirm").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("notifications_confirm").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?modal_archive_bord="+code_bord,true);xhttp.send();}function enregistrer_signature_bordereau(get){console.log(this)
var code_bord=get.id;var numero_signture=document.getElementById("numero_signture").value;var auteur_bord=document.getElementById("numero_signture").name;var date_sign_bord=document.getElementById("date_sign_bord").value;var num_signature_bord="N° "+numero_signture+auteur_bord+date_sign_bord;if(isNaN(numero_signture)||numero_signture==''){document.getElementById("notifications").innerHTML="<h5 class='w3-text-red clignote' style='text-shadow:1px 1px 0 #444'><b>Numero d'archivage incorrect </b></h5> ";document.getElementById('notif_modals').style.display='block';}else{document.getElementById('notif_modals_confirm').style.display='none';document.getElementById('notif_modals').style.display='block';const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("notifications").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?signature_id_bord="+code_bord+"& signature_num_value="+num_signature_bord,true);xhttp.send();search_bord(code_bord);}}function end_bordoreau(get){document.getElementById("notifications").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xxlarge'></i>";document.getElementById('notif_modals').style.display='block';console.log(this)
var code_bord=get.id;const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("notifications").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?end_bord="+code_bord,true);xhttp.send();search_bord(code_bord);}function end_transmision(get){document.getElementById("notifications").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xxlarge'></i>";document.getElementById('notif_modals').style.display='block';console.log(this)
var code_dos=get.id;const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("notifications").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?end_transmision="+code_dos,true);xhttp.send();borne_historique_transmission();}function position_dossier(code_dos){open_tab('consulter_Dossier');if(code_dos.length==0){document.getElementById("see_Dossier").innerHTML="";return;}else{if(code_dos.length<3){document.getElementById("see_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xxlarge'></i>";return;}else{const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("see_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?position_dos="+code_dos,true);xhttp.send();}}}function parcours_dossier(code_dos){open_tab('consulter_Dossier');document.getElementById("see_Dossier").innerHTML="";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("see_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?parcours_doscar="+code_dos,true);xhttp.send();}function transferer_dossier(code_dos){document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?transfert_dos="+code_dos,true);xhttp.send();}function traitement_dossier(get){console.log(this)
var dos=1;document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?traitement_dos="+dos,true);xhttp.send();}function accuser_dossier(code_dos){document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?accuser_dos="+code_dos,true);xhttp.send();}function refuser_dossier(code_dos){document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?refuser_dos="+code_dos,true);xhttp.send();}function motif_retourner_dossier(code_dos){document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?motif_retourner_dos="+code_dos,true);xhttp.send();}function retourner_dossier(code_dos){var motif_rejet=document.getElementById("motif_rejet").value;document.getElementById("income_Dossier").innerHTML="";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?retourner_dos="+code_dos+"& motif_rejet="+motif_rejet,true);xhttp.send();}function supprimer_dossier(code_dos){document.getElementById("income_Dossier").innerHTML="<i class='fa fa-spinner fa-spin w3-text-blue w3-xlarge'></i>";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?supprimer_dos="+code_dos,true);xhttp.send();}function confirmer_transfert(parcours_dos,bordo){var observation=document.getElementById("observations_trans").value;var destinataire=document.getElementById("service_transfer").value;document.getElementById("income_Dossier").innerHTML="";const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("income_Dossier").innerHTML=this.responseText;}
xhttp.open("GET","filt_matricule.php?conf_transfert="+parcours_dos+"& observation="+observation+"& destinataire="+destinataire+"& bordo="+bordo,true);xhttp.send();var periode="2024-11-";var periode1=periode+"01"
var periode2=periode+"31"
see_historique_transmission(periode1,periode2);}function bordereau_service(serv_dest){document.getElementById("bordereau_service_details").innerHTML="";var desto=serv_dest;let element=document.getElementById("service_transfer");if(console.log(element.classList.contains("ecole"))){const xhttp=new XMLHttpRequest();xhttp.onload=function(){document.getElementById("bordereau_service_details").innerHTML=this.responseText;…